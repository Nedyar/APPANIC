<!DOCTYPE html>
<html lang="es">
<head>

    <title>APPANIC</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="dist/jquery.convform.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="font/css/fontello.css">
    <link rel="stylesheet" type="text/css" href="css/ayuda_inmediata.css">

    <script type="text/javascript" src="scripts/jquery-1.12.3.min.js"></script>
    <script type="text/javascript" src="dist/autosize.min.js"></script>
    <script type="text/javascript" src="dist/jquery.convform.js"></script>

</head>
<body>
    <section id="demo">
        <header>
            <div id="header"><a href="peligro.html" class="icon-left-big"></a><label class="titulo">Asistencia inmediata</label></div>
        </header>
        <div class="vertical-align">
            <div class="container">
                <div class="row">
                    <div class="col-sm-6 col-sm-offset-3 col-xs-offset-0">
                        <div class="card no-border">
                            <div id="chat" class="conv-form-wrapper">
                                <form action="" method="GET" class="hidden">
                                    <select data-conv-question="Este es el servicio de asistencia inmediata. Recuerde que el microfono está encendido en este modo, por lo que no necesita escribir. ¿Cuál es la emergencia?" name="first-question">
                                        <option value="yes">Heridos</option>
                                        <option value="sure">Catástrofe</option>
                                    </select>
                                    <select data-conv-question="¿El herido eres tu o otra persona?">
                                        <option value="yo">Yo</option>
                                        <option value="otra">Otra</option>
                                        <option value="ambos">Ambos</option>
                                    </select>
                                    <input type="text" data-conv-question="De acuerdo, ¿donde se situa la herida?">
                                    <select data-conv-question="¿Se trata de una posible rotura, quemadura o herida profunda?">
                                        <option value="rotura">Rotura</option>
                                        <option value="quemadura">Quemadura</option>
                                        <option value="herida">Herida</option>
                                    </select>
                                    <input type="text" data-conv-question="De acuerdo. Veo que te encuentras en la CV-945. ¿La causa ha sido un accidente?">
                                    <input type="text" data-conv-question="Voy a dar una serie de ciertos consejos a realizar mientras contacto con un médico, una ambulacia y envío la ubicación." data-no-answer="true">
                                    <input type="text" data-conv-question="En ningún momento intente mover al herido, podría agravar sus heridas con los movimientos." data-no-answer="true">
                                    <input type="text" data-conv-question="Un médico acaba de contactar y va a atender la llamada. Un momento por favor..." >


                                    <!-- codigo que no importa -->


                                    <input type="text" name="name" data-conv-question="¿El herido eres tu o otra persona?">
                                    <input type="text" data-conv-question="rbnr5n4r54n54rnbgt" data-no-answer="true">
                                    <input type="text" data-conv-question="ovebrjboherboeri" data-no-answer="true">
                                    <select name="multi[]" data-conv-question="What kind of music do you like?" multiple>
                                        <option value="Rock">Rock</option>
                                        <option value="Pop">Pop</option>
                                        <option value="Country">Country</option>
                                        <option value="Classic">Classic</option>
                                    </select>
                                    <select name="programmer" data-callback="storeState" data-conv-question="So, are you a programmer? (this question will fork the conversation based on your answer)">
                                        <option value="yes">Yes</option>
                                        <option value="no">No</option>
                                    </select>
                                    <div data-conv-fork="programmer">
                                        <div data-conv-case="yes">
                                            <input type="text" data-conv-question="A fellow programmer! Cool." data-no-answer="true">
                                        </div>
                                        <div data-conv-case="no">
                                            <select name="thought" data-conv-question="Have you ever thought about learning? Programming is fun!">
                                                <option value="yes">Yes</option>
                                                <option value="no">No..</option>
                                            </select>
                                        </div>
                                    </div>
                                    <input type="text" data-conv-question="convForm also supports regex patterns. Look:" data-no-answer="true">
                                    <input data-conv-question="Type in your e-mail" data-pattern="^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$" id="email" type="email" name="email" required placeholder="What's your e-mail?">
                                    <input data-conv-question="Now tell me a secret (like a password)" type="password" data-minlength="6" id="senha" name="password" required placeholder="password">
                                    <select data-conv-question="Selects also support callback functions. For example, try one of these:">
                                        <option value="google" data-callback="google">Google</option>
                                        <option value="bing" data-callback="bing">Bing</option>
                                    </select>
                                    <select name="callbackTest" data-conv-question="You can do some cool things with callback functions. Want to rollback to the 'programmer' question before?">
                                        <option value="yes" data-callback="rollback">Yes</option>
                                        <option value="no" data-callback="restore">No</option>
                                    </select>
                                    <select data-conv-question="This is it! If you like me, consider donating! If you need support, contact me. When the form gets to the end, the plugin submits it normally, like you had filled it." id="">
                                        <option value="">Awesome!</option>
                                    </select>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <footer>
            <div><span id="micro" class="icon-mic"></span><span id="txtmicro"><label>El detector de voz está encendido.<br /> No es necesario escribir</label></span></div>
        </footer>
    </section>

	<script>
		function google() {
			window.open("https://google.com");
		}
		function bing() {
			window.open("https://bing.com");
		}
		var rollbackTo = false;
		var originalState = false;
		function storeState(stateWrapper) {
			rollbackTo = stateWrapper.current;
			console.log("storeState called: ",rollbackTo);
		}
		function rollback(stateWrapper) {
			console.log("rollback called: ", rollbackTo, originalState);
			console.log("answers at the time of user input: ", stateWrapper.answers);
			if(rollbackTo!=false) {
				if(originalState==false) {
					originalState = stateWrapper.current.next;
						console.log('stored original state');
				}
				stateWrapper.current.next = rollbackTo;
				console.log('changed current.next to rollbackTo');
			}
		}
		function restore(stateWrapper) {
			if(originalState != false) {
				stateWrapper.current.next = originalState;
				console.log('changed current.next to originalState');
			}
		}
	</script>
	<script>
		jQuery(function($){
			var convForm = $('#chat').convform();
			console.log(convForm);
		});
	</script>
</body>
</html>
